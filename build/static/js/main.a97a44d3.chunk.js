(this.webpackJsonpfoodys=this.webpackJsonpfoodys||[]).push([[0],{18:function(e,c,t){},20:function(e,c,t){"use strict";t.r(c);var s=t(1),n=t.n(s),i=t(8),a=t.n(i),r=t(12),l=t(2),j=t(6),o=t.n(j),d=(t(18),t(9)),h=t(10),b=t(4),u=t(13),p=t(11),O=t(0),x=function(e){Object(u.a)(t,e);var c=Object(p.a)(t);function t(e){var s;return Object(d.a)(this,t),(s=c.call(this,e)).state={searchedTerm:""},s.handleChange=s.handleChange.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState({searchedTerm:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var c=this.state.searchedTerm;console.log(c),this.props.searchRecipes(c)}},{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("input",{type:"text",value:this.state.searchedTerm,onChange:this.handleChange,placeholder:"Search.."}),Object(O.jsx)("input",{type:"submit",value:"Go!"})]})})}}]),t}(n.a.Component),m=Object(s.createContext)(),f=function(e){var c=e.children,t=Object(s.useState)(),n=Object(l.a)(t,2),i=n[0],a=n[1];return Object(O.jsx)(m.Provider,{value:{recipeStore:[i,a]},children:c})},v=function(e){var c=Object(s.useContext)(m).recipeStore,t=Object(l.a)(c,2),n=(t[0],t[1]),i=e.item,a=i.imageURL,r=i.name,j=i.user,o=i.userURL,d=i.like;return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("img",{alt:"",src:a,className:"card-photo",onClick:function(c){e.handleClick(),n(i)}}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h4",{children:Object(O.jsx)("b",{children:r})}),Object(O.jsxs)("div",{children:["like:",d]}),Object(O.jsxs)("div",{className:"card-profile",children:[Object(O.jsx)("img",{alt:"",src:o,className:"profile-card"}),Object(O.jsx)("p",{children:j})]})]})]})},g=function(e){var c=e.recipes;e.searchedRecipes;return console.log(c),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Popular recipes"}),Object(O.jsx)("div",{className:"cards",children:c.map((function(c,t){return Object(O.jsx)(v,{item:c,handleClick:e.handleClick},t)}))})]})},N=function(e){return Object(O.jsxs)("div",{className:"reviews",children:[Object(O.jsx)("h3",{children:Object(O.jsx)("p",{children:"Reviews"})}),Object(O.jsxs)("div",{className:"review",children:[Object(O.jsx)("h5",{children:Object(O.jsx)("p",{children:"Peter Paker"})}),Object(O.jsx)("p",{children:"One of the best dishes I cook."})]}),Object(O.jsxs)("div",{className:"review",children:[Object(O.jsx)("h5",{children:Object(O.jsx)("p",{children:"Jenny Su"})}),Object(O.jsx)("p",{children:"I would love to try this dish!"})]})]})},k=void 0,C=function(e){var c=Object(s.useContext)(m).recipeStore,t=Object(l.a)(c,2),n=t[0];t[1];return console.log("recipe",n),Object(O.jsxs)("div",{className:"post",children:[Object(O.jsxs)("div",{className:"intro",children:[Object(O.jsx)("img",{alt:"",className:"post-image",src:n.imageURL,onClick:function(e){k.props.handleClick()}}),Object(O.jsx)("h2",{children:Object(O.jsx)("b",{children:n.name})}),Object(O.jsxs)("p",{children:["like: ",n.like]}),Object(O.jsx)("br",{}),Object(O.jsx)("img",{alt:"",className:"post-user",src:n.userURL,onClick:function(e){k.props.handleClick()}}),Object(O.jsx)("p",{children:n.user})]}),Object(O.jsxs)("div",{className:"ingredients",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h3",{children:Object(O.jsx)("b",{children:"Ingredients"})}),n.ingredients.map((function(e,c){return Object(O.jsx)("p",{children:e},c)}))]}),Object(O.jsxs)("div",{className:"method",children:[Object(O.jsx)("br",{}),Object(O.jsx)("h3",{children:Object(O.jsx)("b",{children:"Method"})}),Object(O.jsx)("br",{}),n.methods.map((function(e,c){if(e)return Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:Object(O.jsxs)("b",{children:["Step: ",c]})}),Object(O.jsx)("img",{alt:"",src:e.imageURL}),Object(O.jsx)("p",{children:e.description}),Object(O.jsx)("br",{})]},c)})),Object(O.jsx)("br",{}),Object(O.jsx)(N,{}),Object(O.jsx)("br",{})]})]})},y=function(e){var c=Object(s.useContext)(m).recipeStore,t=Object(l.a)(c,2),n=(t[0],t[1]),i=e.item,a=i.imageURL,r=i.name,j=i.user,o=i.userURL,d=i.like;return Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("img",{alt:"",src:a,className:"card-photo",onClick:function(c){e.handleClick(),n(i)}}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h4",{children:Object(O.jsx)("b",{children:r})}),Object(O.jsxs)("div",{children:["like:",d]}),Object(O.jsxs)("div",{className:"card-profile",children:[Object(O.jsx)("img",{alt:"",src:o,className:"profile-card"}),Object(O.jsx)("p",{children:j})]})]})]})},S=function(e){var c=[];return e.recipes.map((function(e){"Jack Ross"===e.user&&c.push(e)})),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"profile",children:[Object(O.jsx)("img",{alt:"",src:"https://www.the-happy-chef.com/assets/img/team/team-3.jpg",className:"profile-photo"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("h3",{children:"Jack Ross"}),Object(O.jsx)("div",{children:"Milan - Italy"}),Object(O.jsx)("p",{children:"I love making Italian food."}),Object(O.jsx)("p",{children:"Posts: 6"}),Object(O.jsx)("p",{children:"Followers: 120"}),Object(O.jsx)("p",{children:"Following: 68"})]})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"cards",children:c.map((function(c,t){return Object(O.jsx)(y,{item:c,handleClick:e.handleClick},t)}))})]})},R=function(e){var c=Object(s.useState)(""),t=Object(l.a)(c,2),i=t[0],a=t[1],r=Object(s.useState)(""),j=Object(l.a)(r,2),o=j[0],d=j[1],h=e.postRecipe;return Object(O.jsx)("div",{className:"create",children:Object(O.jsxs)("div",{className:"create-editor",children:[Object(O.jsx)("h2",{children:"Add Your Recipe"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={};c.name=i,c.imageURL=o,c.like=180,c.ingredients=["100g tofu","1g pepper"],c.methods=[{description:"cook tofu in hot water"},{description:"fry the tofu in a pan"}],c.user="Jack Ross",c.userURL="https://www.the-happy-chef.com/assets/img/team/team-3.jpg",h(c)},children:[Object(O.jsx)("h4",{children:"Step 1: Add recipe name"}),Object(O.jsx)("input",{className:"create-input",name:"name",type:"text",vaule:i,onChange:function(e){var c=e.target.value;a(c)},placeholder:"Recipe Name"}),Object(O.jsx)("h4",{children:"Step 2: Add the finished image"}),Object(O.jsx)("input",{type:"file",id:"input",ref:n.a.createRef,name:"image",accept:"image/*",onChange:function(){console.log("upload image"),d("https://futuredish.com/wp-content/uploads/2018/01/Mapo-Tofu-1.jpg")}}),Object(O.jsx)("button",{className:"create-submit-button",type:"submit",children:"Save recipe"})]})]})})},w=function(){var e=Object(s.useState)(!1),c=Object(l.a)(e,2),t=c[0],n=c[1],i=Object(s.useState)("gallery"),a=Object(l.a)(i,2),j=a[0],d=a[1],h=Object(s.useState)([]),b=Object(l.a)(h,2),u=b[0],p=b[1],m=Object(s.useState)([]),f=Object(l.a)(m,2),v=f[0],N=f[1];function k(){o.a.ajax({url:"/api/recipes",type:"GET"}).then((function(e){var c=e.recipes;p(Object(r.a)(c))})).then((function(){n({show:!0})}))}function y(e){o.a.ajax({url:"/api/recipes",type:"POST",data:e,success:function(e){return console.log(e)},error:function(e){return console.log(e)}}).done((function(){console.log("Submitted")}))}function w(e){d(e)}return Object(s.useEffect)((function(){var e;k(),e={location:"app"},o.a.ajax({url:"https://foodys-api.herokuapp.com/api/collects",type:"POST",data:e,success:function(e){return console.log(e)},error:function(e){return console.log(e)}}).done((function(){console.log("Submitted")}))}),[]),!1===t?Object(O.jsx)("div",{className:"loading",children:"Loading ..."}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"nav",children:[Object(O.jsx)("span",{className:"logo",onClick:function(){k(),w("gallery")},children:"Foodys"}),Object(O.jsx)("div",{className:"search-bar",children:Object(O.jsx)(x,{searchRecipes:function(e){for(var c=this.state.recipes,t=[],s=0;s<c.length;s++)""===e&&N({searchedRecipes:c}),c[s].name.toLowerCase().includes(e.toLowerCase())&&t.push(c[s]),N({searchedRecipes:t})}})}),Object(O.jsxs)("div",{className:"nav-sub",children:[Object(O.jsx)("span",{className:"gallery"===j?"nav-selected":"nav-unselected",onClick:function(){k(),w("gallery")},children:"See all Recipes"}),Object(O.jsx)("span",{className:"create"===j?"nav-selected":"nav-unselected",onClick:function(){return w("create")},children:"Add a Recipe"}),Object(O.jsx)("span",{className:"account"===j?"nav-selected":"nav-unselected",onClick:function(){return w("account")},children:Object(O.jsx)("div",{className:"card-profile",children:Object(O.jsx)("img",{alt:"",src:"https://www.the-happy-chef.com/assets/img/team/team-3.jpg",className:"profile-nav"})})})]})]}),Object(O.jsx)("div",{className:"main",children:"gallery"===j?Object(O.jsx)(g,{handleClick:function(){w("recipeview")},recipes:u,searchedRecipes:v}):"account"===j?Object(O.jsx)(S,{handleClick:function(){w("recipeview")},recipes:u,searchedRecipes:v}):"create"===j?Object(O.jsx)(R,{recipes:u,postRecipe:y}):Object(O.jsx)(C,{handleClick:function(){w("account")},recipes:u,searchedRecipes:v})}),Object(O.jsx)("div",{className:"footer",children:Object(O.jsx)("span",{children:"@ 2021 foodys"})})]})};a.a.render(Object(O.jsx)(f,{children:Object(O.jsx)(w,{})}),document.getElementById("app"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a97a44d3.chunk.js.map