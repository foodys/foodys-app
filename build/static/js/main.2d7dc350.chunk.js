(this.webpackJsonpfoodys=this.webpackJsonpfoodys||[]).push([[0],{18:function(e,c,t){},20:function(e,c,t){"use strict";t.r(c);var s=t(1),n=t.n(s),i=t(8),a=t.n(i),r=t(12),j=t(2),l=t(7),d=t.n(l),o=(t(18),t(9)),h=t(10),b=t(4),u=t(13),O=t(11),p=t(0),x=function(e){Object(u.a)(t,e);var c=Object(O.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=c.call(this,e)).state={searchedTerm:""},s.handleChange=s.handleChange.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState({searchedTerm:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var c=this.state.searchedTerm;console.log(c),this.props.searchRecipes(c)}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("input",{type:"text",value:this.state.searchedTerm,onChange:this.handleChange,placeholder:"Search.."}),Object(p.jsx)("input",{type:"submit",value:"Go!"})]})})}}]),t}(n.a.Component),m=Object(s.createContext)(),v=function(e){var c=e.children,t=Object(s.useState)(),n=Object(j.a)(t,2),i=n[0],a=n[1];return Object(p.jsx)(m.Provider,{value:{recipeStore:[i,a]},children:c})},f=function(e){var c=Object(s.useContext)(m).recipeStore,t=Object(j.a)(c,2),n=(t[0],t[1]),i=e.item,a=i.imageURL,r=i.name,l=i.user,d=i.userURL,o=i.like;return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("img",{src:a,className:"card-photo",onClick:function(c){e.handleClick(),n(i)}}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h4",{children:Object(p.jsx)("b",{children:r})}),Object(p.jsxs)("div",{children:["like:",o]}),Object(p.jsxs)("div",{className:"card-profile",children:[Object(p.jsx)("img",{src:d,className:"profile-card"}),Object(p.jsx)("p",{children:l})]})]})]})},g=function(e){var c=e.recipes;e.searchedRecipes;return console.log(c),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Popular recipes"}),Object(p.jsx)("div",{className:"cards",children:c.map((function(c,t){return Object(p.jsx)(f,{item:c,handleClick:e.handleClick},t)}))})]})},N=function(e){return Object(p.jsxs)("div",{className:"reviews",children:[Object(p.jsx)("h3",{children:Object(p.jsx)("p",{children:"Reviews"})}),Object(p.jsxs)("div",{className:"review",children:[Object(p.jsx)("h5",{children:Object(p.jsx)("p",{children:"Peter Paker"})}),Object(p.jsx)("p",{children:"One of the best dishes I cook."})]}),Object(p.jsxs)("div",{className:"review",children:[Object(p.jsx)("h5",{children:Object(p.jsx)("p",{children:"Jenny Su"})}),Object(p.jsx)("p",{children:"I would love to try this dish!"})]})]})},k=void 0,C=function(e){var c=Object(s.useContext)(m).recipeStore,t=Object(j.a)(c,2),n=t[0];t[1];return console.log("recipe",n),Object(p.jsxs)("div",{className:"post",children:[Object(p.jsxs)("div",{className:"intro",children:[Object(p.jsx)("img",{className:"post-image",src:n.imageURL,onClick:function(e){k.props.handleClick()}}),Object(p.jsx)("h2",{children:Object(p.jsx)("b",{children:n.name})}),Object(p.jsxs)("p",{children:["like: ",n.like]}),Object(p.jsx)("br",{}),Object(p.jsx)("img",{className:"post-user",src:n.userURL,onClick:function(e){k.props.handleClick()}}),Object(p.jsx)("p",{children:n.user})]}),Object(p.jsxs)("div",{className:"ingredients",children:[Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:Object(p.jsx)("b",{children:"Ingredients"})}),n.ingredients.map((function(e,c){return Object(p.jsx)("p",{children:e},c)}))]}),Object(p.jsxs)("div",{className:"method",children:[Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:Object(p.jsx)("b",{children:"Method"})}),Object(p.jsx)("br",{}),n.methods.map((function(e,c){if(e)return Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:Object(p.jsxs)("b",{children:["Step: ",c]})}),Object(p.jsx)("img",{src:e.imageURL}),Object(p.jsx)("p",{children:e.description}),Object(p.jsx)("br",{})]},c)})),Object(p.jsx)("br",{}),Object(p.jsx)(N,{}),Object(p.jsx)("br",{})]})]})},R=function(e){var c=Object(s.useContext)(m).recipeStore,t=Object(j.a)(c,2),n=(t[0],t[1]),i=e.item,a=i.imageURL,r=i.name,l=i.user,d=i.userURL,o=i.like;return Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("img",{src:a,className:"card-photo",onClick:function(c){e.handleClick(),n(i)}}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h4",{children:Object(p.jsx)("b",{children:r})}),Object(p.jsxs)("div",{children:["like:",o]}),Object(p.jsxs)("div",{className:"card-profile",children:[Object(p.jsx)("img",{src:d,className:"profile-card"}),Object(p.jsx)("p",{children:l})]})]})]})},S=function(e){var c=[];return e.recipes.map((function(e){"Jack Ross"===e.user&&c.push(e)})),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"profile",children:[Object(p.jsx)("img",{src:"https://www.the-happy-chef.com/assets/img/team/team-3.jpg",className:"profile-photo"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:"Jack Ross"}),Object(p.jsx)("div",{children:"Milan - Italy"}),Object(p.jsx)("p",{children:"I love making Italian food."}),Object(p.jsx)("p",{children:"Posts: 6"}),Object(p.jsx)("p",{children:"Followers: 120"}),Object(p.jsx)("p",{children:"Following: 68"})]})]}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"cards",children:c.map((function(c,t){return Object(p.jsx)(R,{item:c,handleClick:e.handleClick},t)}))})]})},y=function(e){var c=Object(s.useState)(""),t=Object(j.a)(c,2),i=t[0],a=t[1],r=Object(s.useState)(""),l=Object(j.a)(r,2),d=l[0],o=l[1],h=e.postRecipe;return Object(p.jsx)("div",{className:"create",children:Object(p.jsxs)("div",{className:"create-editor",children:[Object(p.jsx)("h2",{children:"Add Your Recipe"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={};c.name=i,c.imageURL=d,c.like=180,c.ingredients=["100g tofu","1g pepper"],c.methods=[{description:"cook tofu in hot water"},{description:"fry the tofu in a pan"}],c.user="Jack Ross",c.userURL="https://www.the-happy-chef.com/assets/img/team/team-3.jpg",h(c)},children:[Object(p.jsx)("h4",{children:"Step 1: Add recipe name"}),Object(p.jsx)("input",{className:"create-input",name:"name",type:"text",vaule:i,onChange:function(e){e.target.name;var c=e.target.value;a(c)},placeholder:"Recipe Name"}),Object(p.jsx)("h4",{children:"Step 2: Add the finished image"}),Object(p.jsx)("input",{type:"file",id:"input",ref:n.a.createRef,name:"image",accept:"image/*",onChange:function(){console.log("upload image"),o("https://futuredish.com/wp-content/uploads/2018/01/Mapo-Tofu-1.jpg")}}),Object(p.jsx)("button",{className:"create-submit-button",type:"submit",children:"Save recipe"})]})]})})},w=function(){var e=Object(s.useState)(!1),c=Object(j.a)(e,2),t=c[0],n=c[1],i=Object(s.useState)("gallery"),a=Object(j.a)(i,2),l=a[0],o=a[1],h=Object(s.useState)([]),b=Object(j.a)(h,2),u=b[0],O=b[1],m=Object(s.useState)([]),v=Object(j.a)(m,2),f=v[0],N=v[1],k=Object(s.useState)(""),R=Object(j.a)(k,2);R[0],R[1];function w(){d.a.ajax({url:"/api/recipes",type:"GET"}).then((function(e){var c=e.recipes;O(Object(r.a)(c))})).then((function(){n({show:!0})}))}function L(e){d.a.ajax({url:"/api/recipes",type:"POST",data:e,success:function(e){return console.log(e)},error:function(e){return console.log(e)}}).done((function(){console.log("Submitted")}))}function U(e){o(e)}return Object(s.useEffect)((function(){w()}),[]),!1===t?Object(p.jsx)("div",{className:"loading",children:"Loading ..."}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"nav",children:[Object(p.jsx)("span",{className:"logo",onClick:function(){w(),U("gallery")},children:"Foodys"}),Object(p.jsx)("div",{className:"search-bar",children:Object(p.jsx)(x,{searchRecipes:function(e){for(var c=this.state.recipes,t=[],s=0;s<c.length;s++)""===e&&N({searchedRecipes:c}),c[s].name.toLowerCase().includes(e.toLowerCase())&&t.push(c[s]),N({searchedRecipes:t})}})}),Object(p.jsxs)("div",{className:"nav-sub",children:[Object(p.jsx)("span",{className:"gallery"===l?"nav-selected":"nav-unselected",onClick:function(){w(),U("gallery")},children:"See all Recipes"}),Object(p.jsx)("span",{className:"create"===l?"nav-selected":"nav-unselected",onClick:function(){return U("create")},children:"Add a Recipe"}),Object(p.jsx)("span",{className:"account"===l?"nav-selected":"nav-unselected",onClick:function(){return U("account")},children:Object(p.jsx)("div",{className:"card-profile",children:Object(p.jsx)("img",{src:"https://www.the-happy-chef.com/assets/img/team/team-3.jpg",className:"profile-nav"})})})]})]}),Object(p.jsx)("div",{className:"main",children:"gallery"===l?Object(p.jsx)(g,{handleClick:function(){U("recipeview")},recipes:u,searchedRecipes:f}):"account"===l?Object(p.jsx)(S,{handleClick:function(){U("recipeview")},recipes:u,searchedRecipes:f}):"create"===l?Object(p.jsx)(y,{recipes:u,postRecipe:L}):Object(p.jsx)(C,{handleClick:function(){U("account")},recipes:u,searchedRecipes:f})}),Object(p.jsx)("div",{className:"footer",children:Object(p.jsx)("span",{children:"@ 2021 foodys"})})]})};a.a.render(Object(p.jsx)(v,{children:Object(p.jsx)(w,{})}),document.getElementById("app"))}},[[20,1,2]]]);
//# sourceMappingURL=main.2d7dc350.chunk.js.map